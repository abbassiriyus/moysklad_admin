{"ast":null,"code":"import _slicedToArray from\"/home/abbas/Documents/GitHub/moysklad_admin12/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import axios from'axios';import React,{useEffect,useState}from'react';import url from'./host';import{Button,Form,Modal,message}from'antd';import{PlusOutlined}from'@ant-design/icons';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Homiy(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),carusel_image=_useState2[0],sethomiyImage=_useState2[1];function gethomiy(){axios.get(\"\".concat(url,\"/api/homiy\")).then(function(res){sethomiyImage(res.data);});}function Deletehomiy(id){axios.delete(\"\".concat(url,\"/api/homiy/\").concat(id),{headers:{'Authorization':\"Bearer \".concat(localStorage.getItem('token'))}}).then(function(res){message.success(\"rasm o`chirildi\");gethomiy();}).catch(function(err){message.error(\"xatolik yuz berdi\");});}useEffect(function(){gethomiy();},[]);var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isModalOpen=_useState4[0],setIsModalOpen=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isModalOpen1=_useState6[0],setIsModalOpen1=_useState6[1];var showModal=function showModal(){setIsModalOpen(true);};var handleOk=function handleOk(){var data=new FormData();data.append(\"image\",document.querySelector('#modal_data_file').files[0]);axios.post(\"\".concat(url,\"/api/homiy\"),data,{headers:{'Authorization':\"Bearer \".concat(localStorage.getItem('token'))}}).then(function(res){handleCancel();message.success(\"yangi rasm joylandi\");gethomiy();}).catch(function(err){message.error(\"xatolik\");});};var handleCancel=function handleCancel(){setIsModalOpen(false);};var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),select_id=_useState8[0],setSelectId=_useState8[1];var showModal1=function showModal1(){setIsModalOpen1(true);};var handleOk1=function handleOk1(){var data=new FormData();data.append(\"image\",document.querySelector('#modal_data_file1').files[0]);axios.put(\"\".concat(url,\"/api/homiy/\").concat(select_id),data,{headers:{'Authorization':\"Bearer \".concat(localStorage.getItem('token'))}}).then(function(res){handleCancel1();message.success(\"Yangi rasmga o`zgartitildi\");gethomiy();}).catch(function(err){message.error(\"xatolik\");});};var handleCancel1=function handleCancel1(){setIsModalOpen1(false);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h3\",{children:\"Homiylarni karouseldagi rasmlari\"}),/*#__PURE__*/_jsx(Button,{style:{marginBottom:'20px'},type:\"primary\",onClick:showModal,children:\"Create homiy\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexWrap:'wrap',gap:'30px'},className:\"homiy_images\",children:carusel_image.map(function(item,key){return/*#__PURE__*/_jsxs(\"div\",{style:{height:'180px'},className:\"homiy_card\",children:[/*#__PURE__*/_jsx(\"img\",{style:{height:'50%'},src:item.image,alt:\"\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Button,{type:\"primary\",onClick:function onClick(){showModal1();setSelectId(item.id);},children:\"edit\"}),\" \",/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return Deletehomiy(item.id);},danger:true,children:\"delete\"})]},key);})}),/*#__PURE__*/_jsx(Modal,{title:\"Basic Modal\",open:isModalOpen,onOk:handleOk,onCancel:handleCancel,children:/*#__PURE__*/_jsx(Form,{children:/*#__PURE__*/_jsx(Form.Item,{label:\"Image\",valuePropName:\"fileList\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"file_input\",listType:\"picture-card\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",className:\"get_datainput\",id:\"modal_data_file\"}),/*#__PURE__*/_jsxs(\"button\",{style:{border:0,background:'none'},type:\"button\",children:[/*#__PURE__*/_jsx(PlusOutlined,{}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:8},children:\"Upload\"})]})]})})})}),/*#__PURE__*/_jsx(Modal,{title:\"Basic Modal\",open:isModalOpen1,onOk:handleOk1,onCancel:handleCancel1,children:/*#__PURE__*/_jsx(Form,{children:/*#__PURE__*/_jsx(Form.Item,{label:\"Image\",valuePropName:\"fileList\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"file_input\",listType:\"picture-card\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",className:\"get_datainput\",id:\"modal_data_file1\"}),/*#__PURE__*/_jsxs(\"button\",{style:{border:0,background:'none'},type:\"button\",children:[/*#__PURE__*/_jsx(PlusOutlined,{}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:8},children:\"Upload\"})]})]})})})})]});}","map":{"version":3,"names":["axios","React","useEffect","useState","url","Button","Form","Modal","message","PlusOutlined","jsx","_jsx","jsxs","_jsxs","Homiy","_useState","_useState2","_slicedToArray","carusel_image","sethomiyImage","gethomiy","get","concat","then","res","data","Deletehomiy","id","delete","headers","localStorage","getItem","success","catch","err","error","_useState3","_useState4","isModalOpen","setIsModalOpen","_useState5","_useState6","isModalOpen1","setIsModalOpen1","showModal","handleOk","FormData","append","document","querySelector","files","post","handleCancel","_useState7","_useState8","select_id","setSelectId","showModal1","handleOk1","put","handleCancel1","children","style","marginBottom","type","onClick","display","flexWrap","gap","className","map","item","key","height","src","image","alt","danger","title","open","onOk","onCancel","Item","label","valuePropName","listType","border","background","marginTop"],"sources":["/home/abbas/Documents/GitHub/moysklad_admin12/src/pages/Homiy.js"],"sourcesContent":["import axios from 'axios'\nimport React, { useEffect, useState } from 'react'\nimport url from './host'\nimport { Button, Form, Modal, message } from 'antd';\nimport { PlusOutlined } from '@ant-design/icons';\nexport default function Homiy() {\nvar [carusel_image,sethomiyImage]=useState([])\n\n\nfunction gethomiy() {\n    axios.get(`${url}/api/homiy`).then(res=>{\nsethomiyImage(res.data)\n    })\n}\nfunction Deletehomiy(id) {\naxios.delete(`${url}/api/homiy/${id}`, {\n  headers: {\n    'Authorization': `Bearer ${localStorage.getItem('token')}`\n  }\n}).then(res=>{\n    message.success(\"rasm o`chirildi\")\n    gethomiy()\n}).catch(err=>{\n    message.error(\"xatolik yuz berdi\")\n})    \n}\nuseEffect(()=>{\ngethomiy()\n},[])\nconst [isModalOpen, setIsModalOpen] = useState(false);\nconst [isModalOpen1, setIsModalOpen1] = useState(false);\n\nconst showModal = () => {\n  setIsModalOpen(true);\n};\nconst handleOk = () => {\nvar data =new FormData()\ndata.append(\"image\",document.querySelector('#modal_data_file').files[0])\naxios.post(`${url}/api/homiy`,data, {\n  headers: {\n    'Authorization': `Bearer ${localStorage.getItem('token')}`\n  }\n}).then(res=>{\n    handleCancel()\n    message.success(\"yangi rasm joylandi\")\n    gethomiy()\n}).catch(err=>{\n    message.error(\"xatolik\")\n})\n};\nconst handleCancel = () => {\n  setIsModalOpen(false);\n};\nvar [select_id,setSelectId]=useState(0)\nconst showModal1 = () => {\n    setIsModalOpen1(true);\n  };\n  const handleOk1 = () => {\n  var data =new FormData()\n  data.append(\"image\",document.querySelector('#modal_data_file1').files[0])\n  axios.put(`${url}/api/homiy/${select_id}`,data, {\n      headers: {\n        'Authorization': `Bearer ${localStorage.getItem('token')}`\n      }\n    }).then(res=>{\n      handleCancel1()\n      message.success(\"Yangi rasmga o`zgartitildi\")\n      gethomiy()\n  }).catch(err=>{\n      message.error(\"xatolik\")\n  })\n  };\n  const handleCancel1 = () => {\n    setIsModalOpen1(false);\n  };\n  return (\n    <div>\n        <br />\n        <h3>Homiylarni karouseldagi rasmlari</h3>\n        <Button style={{marginBottom:'20px'}} type=\"primary\" onClick={showModal}>\n        Create homiy\n      </Button>\n<br />\n<div style={{display:'flex',flexWrap:'wrap',gap:'30px'}} className=\"homiy_images\">\n    {carusel_image.map((item,key)=>{\n        return <div style={{height:'180px'}} key={key} className='homiy_card'  >\n            <img  style={{height:'50%'}} src={item.image} alt=\"\" /><br />\n            <Button  type=\"primary\" onClick={()=>{showModal1();setSelectId(item.id)}} >edit</Button> <Button onClick={()=>Deletehomiy(item.id)} danger>delete</Button>\n        </div>\n    })}\n</div>\n\n\n\n      <Modal title=\"Basic Modal\" open={isModalOpen} onOk={handleOk} onCancel={handleCancel}>\n     <Form>\n     <Form.Item label=\"Image\" valuePropName=\"fileList\">\n    <div className='file_input' listType=\"picture-card\"> \n      <input type=\"file\" className='get_datainput' id=\"modal_data_file\" />\n            <button\n              style={{\n                border: 0,\n                background: 'none',\n              }}\n              type=\"button\"\n            >\n              <PlusOutlined />\n              <div\n                style={{\n                  marginTop: 8,\n                }}\n              >\n                Upload\n              </div>\n            </button>\n          </div>\n        </Form.Item>\n     </Form>\n      </Modal>\n\n      <Modal title=\"Basic Modal\" open={isModalOpen1} onOk={handleOk1} onCancel={handleCancel1}>\n     <Form>\n     <Form.Item label=\"Image\" valuePropName=\"fileList\">\n    <div className='file_input' listType=\"picture-card\"> \n      <input type=\"file\" className='get_datainput' id=\"modal_data_file1\" />\n            <button\n              style={{\n                border: 0,\n                background: 'none',\n              }}\n              type=\"button\"\n            >\n              <PlusOutlined />\n              <div\n                style={{\n                  marginTop: 8,\n                }}\n              >\n                Upload\n              </div>\n            </button>\n          </div>\n        </Form.Item>\n     </Form>\n      </Modal>\n    </div>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}