{"ast":null,"code":"import _slicedToArray from\"/home/abbas/Documents/GitHub/moysklad_admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import axios from'axios';import React,{useEffect,useState}from'react';import url from'./host';import{Button,Form,Modal,message}from'antd';import{PlusOutlined}from'@ant-design/icons';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Carousel(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),carusel_image=_useState2[0],setCarouselImage=_useState2[1];function getCarousel(){axios.get(\"\".concat(url,\"/api/carousel\")).then(function(res){setCarouselImage(res.data);});}function DeleteCarousel(id){axios.delete(\"\".concat(url,\"/api/carousel/\").concat(id)).then(function(res){message.success(\"rasm o`chirildi\");getCarousel();}).catch(function(err){message.error(\"xatolik yuz berdi\");});}useEffect(function(){getCarousel();},[]);var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isModalOpen=_useState4[0],setIsModalOpen=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isModalOpen1=_useState6[0],setIsModalOpen1=_useState6[1];var showModal=function showModal(){setIsModalOpen(true);};var handleOk=function handleOk(){var data=new FormData();data.append(\"image\",document.querySelector('#modal_data_file').files[0]);axios.post(\"\".concat(url,\"/api/carousel\"),data).then(function(res){handleCancel();message.success(\"yangi rasm joylandi\");getCarousel();}).catch(function(err){message.error(\"xatolik\");});};var handleCancel=function handleCancel(){setIsModalOpen(false);};var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),select_id=_useState8[0],setSelectId=_useState8[1];var showModal1=function showModal1(){setIsModalOpen1(true);};var handleOk1=function handleOk1(){var data=new FormData();data.append(\"image\",document.querySelector('#modal_data_file1').files[0]);axios.put(\"\".concat(url,\"/api/carousel/\").concat(select_id),data).then(function(res){handleCancel1();message.success(\"Yangi rasmga o`zgartitildi\");getCarousel();}).catch(function(err){message.error(\"xatolik\");});};var handleCancel1=function handleCancel1(){setIsModalOpen1(false);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h3\",{children:\"Asosiy oynadagi rasmni boshqarish\"}),/*#__PURE__*/_jsx(Button,{style:{marginBottom:'20px'},type:\"primary\",onClick:showModal,children:\"Create Carousel\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"carousel_images\",children:carusel_image.map(function(item,key){return/*#__PURE__*/_jsxs(\"div\",{className:\"carousel_card\",children:[/*#__PURE__*/_jsx(\"img\",{src:item.image,alt:\"\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Button,{type:\"primary\",onClick:function onClick(){showModal1();setSelectId(item.id);},children:\"edit\"}),\" \",/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return DeleteCarousel(item.id);},danger:true,children:\"delete\"})]},key);})}),/*#__PURE__*/_jsx(Modal,{title:\"Basic Modal\",open:isModalOpen,onOk:handleOk,onCancel:handleCancel,children:/*#__PURE__*/_jsx(Form,{children:/*#__PURE__*/_jsx(Form.Item,{label:\"Image\",valuePropName:\"fileList\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"file_input\",listType:\"picture-card\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",className:\"get_datainput\",id:\"modal_data_file\"}),/*#__PURE__*/_jsxs(\"button\",{style:{border:0,background:'none'},type:\"button\",children:[/*#__PURE__*/_jsx(PlusOutlined,{}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:8},children:\"Upload\"})]})]})})})}),/*#__PURE__*/_jsx(Modal,{title:\"Basic Modal\",open:isModalOpen1,onOk:handleOk1,onCancel:handleCancel1,children:/*#__PURE__*/_jsx(Form,{children:/*#__PURE__*/_jsx(Form.Item,{label:\"Image\",valuePropName:\"fileList\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"file_input\",listType:\"picture-card\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",className:\"get_datainput\",id:\"modal_data_file1\"}),/*#__PURE__*/_jsxs(\"button\",{style:{border:0,background:'none'},type:\"button\",children:[/*#__PURE__*/_jsx(PlusOutlined,{}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:8},children:\"Upload\"})]})]})})})})]});}","map":{"version":3,"names":["axios","React","useEffect","useState","url","Button","Form","Modal","message","PlusOutlined","jsx","_jsx","jsxs","_jsxs","Carousel","_useState","_useState2","_slicedToArray","carusel_image","setCarouselImage","getCarousel","get","concat","then","res","data","DeleteCarousel","id","delete","success","catch","err","error","_useState3","_useState4","isModalOpen","setIsModalOpen","_useState5","_useState6","isModalOpen1","setIsModalOpen1","showModal","handleOk","FormData","append","document","querySelector","files","post","handleCancel","_useState7","_useState8","select_id","setSelectId","showModal1","handleOk1","put","handleCancel1","children","style","marginBottom","type","onClick","className","map","item","key","src","image","alt","danger","title","open","onOk","onCancel","Item","label","valuePropName","listType","border","background","marginTop"],"sources":["/home/abbas/Documents/GitHub/moysklad_admin/src/pages/Carousel.js"],"sourcesContent":["import axios from 'axios'\nimport React, { useEffect, useState } from 'react'\nimport url from './host'\nimport { Button, Form, Modal, message } from 'antd';\nimport { PlusOutlined } from '@ant-design/icons';\nexport default function Carousel() {\nvar [carusel_image,setCarouselImage]=useState([])\n\n\nfunction getCarousel() {\n    axios.get(`${url}/api/carousel`).then(res=>{\nsetCarouselImage(res.data)\n    })\n}\nfunction DeleteCarousel(id) {\naxios.delete(`${url}/api/carousel/${id}`).then(res=>{\n    message.success(\"rasm o`chirildi\")\n    getCarousel()\n}).catch(err=>{\n    message.error(\"xatolik yuz berdi\")\n})    \n}\nuseEffect(()=>{\ngetCarousel()\n},[])\nconst [isModalOpen, setIsModalOpen] = useState(false);\nconst [isModalOpen1, setIsModalOpen1] = useState(false);\n\nconst showModal = () => {\n  setIsModalOpen(true);\n};\nconst handleOk = () => {\nvar data =new FormData()\ndata.append(\"image\",document.querySelector('#modal_data_file').files[0])\naxios.post(`${url}/api/carousel`,data).then(res=>{\n    handleCancel()\n    message.success(\"yangi rasm joylandi\")\n    getCarousel()\n}).catch(err=>{\n    message.error(\"xatolik\")\n})\n};\nconst handleCancel = () => {\n  setIsModalOpen(false);\n};\nvar [select_id,setSelectId]=useState(0)\nconst showModal1 = () => {\n    setIsModalOpen1(true);\n  };\n  const handleOk1 = () => {\n  var data =new FormData()\n  data.append(\"image\",document.querySelector('#modal_data_file1').files[0])\n  axios.put(`${url}/api/carousel/${select_id}`,data).then(res=>{\n      handleCancel1()\n      message.success(\"Yangi rasmga o`zgartitildi\")\n      getCarousel()\n  }).catch(err=>{\n      message.error(\"xatolik\")\n  })\n  };\n  const handleCancel1 = () => {\n    setIsModalOpen1(false);\n  };\n  return (\n    <div>\n        <br />\n        <h3>Asosiy oynadagi rasmni boshqarish</h3>\n        <Button style={{marginBottom:'20px'}} type=\"primary\" onClick={showModal}>\n        Create Carousel\n      </Button>\n<br />\n<div className=\"carousel_images\">\n    {carusel_image.map((item,key)=>{\n        return <div key={key} className='carousel_card'  >\n            <img src={item.image} alt=\"\" /><br />\n            <Button  type=\"primary\" onClick={()=>{showModal1();setSelectId(item.id)}} >edit</Button> <Button onClick={()=>DeleteCarousel(item.id)} danger>delete</Button>\n        </div>\n    })}\n</div>\n\n\n\n      <Modal title=\"Basic Modal\" open={isModalOpen} onOk={handleOk} onCancel={handleCancel}>\n     <Form>\n     <Form.Item label=\"Image\" valuePropName=\"fileList\">\n    <div className='file_input' listType=\"picture-card\"> \n      <input type=\"file\" className='get_datainput' id=\"modal_data_file\" />\n            <button\n              style={{\n                border: 0,\n                background: 'none',\n              }}\n              type=\"button\"\n            >\n              <PlusOutlined />\n              <div\n                style={{\n                  marginTop: 8,\n                }}\n              >\n                Upload\n              </div>\n            </button>\n          </div>\n        </Form.Item>\n     </Form>\n      </Modal>\n\n      <Modal title=\"Basic Modal\" open={isModalOpen1} onOk={handleOk1} onCancel={handleCancel1}>\n     <Form>\n     <Form.Item label=\"Image\" valuePropName=\"fileList\">\n    <div className='file_input' listType=\"picture-card\"> \n      <input type=\"file\" className='get_datainput' id=\"modal_data_file1\" />\n            <button\n              style={{\n                border: 0,\n                background: 'none',\n              }}\n              type=\"button\"\n            >\n              <PlusOutlined />\n              <div\n                style={{\n                  marginTop: 8,\n                }}\n              >\n                Upload\n              </div>\n            </button>\n          </div>\n        </Form.Item>\n     </Form>\n      </Modal>\n    </div>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}