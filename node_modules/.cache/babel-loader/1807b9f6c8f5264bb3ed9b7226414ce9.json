{"ast":null,"code":"import _slicedToArray from\"/home/abbas/Documents/GitHub/moysklad_admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import axios from'axios';import React,{useEffect,useState}from'react';import url from'./host';import{Button,Form,Modal,message}from'antd';import{PlusOutlined}from'@ant-design/icons';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Document1(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),carusel_image=_useState2[0],setdocumentImage=_useState2[1];function getdocument(){axios.get(\"\".concat(url,\"/api/document\")).then(function(res){setdocumentImage(res.data);});}function Deletedocument(id){axios.delete(\"\".concat(url,\"/api/document/\").concat(id),{headers:{'Authorization':\"Bearer \".concat(localStorage.getItem('token'))}}).then(function(res){message.success(\"rasm o`chirildi\");getdocument();}).catch(function(err){message.error(\"xatolik yuz berdi\");});}useEffect(function(){getdocument();},[]);var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isModalOpen=_useState4[0],setIsModalOpen=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isModalOpen1=_useState6[0],setIsModalOpen1=_useState6[1];var showModal=function showModal(){setIsModalOpen(true);};var handleOk=function handleOk(){var data=new FormData();data.append(\"image\",document.querySelector('#modal_data_file').files[0]);axios.post(\"\".concat(url,\"/api/document\"),data,{headers:{'Authorization':\"Bearer \".concat(localStorage.getItem('token'))}}).then(function(res){handleCancel();message.success(\"yangi rasm joylandi\");getdocument();}).catch(function(err){message.error(\"xatolik\");});};var handleCancel=function handleCancel(){setIsModalOpen(false);};var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),select_id=_useState8[0],setSelectId=_useState8[1];var showModal1=function showModal1(){setIsModalOpen1(true);};var handleOk1=function handleOk1(){var data=new FormData();data.append(\"image\",document.querySelector('#modal_data_file1').files[0]);axios.put(\"\".concat(url,\"/api/document/\").concat(select_id),data,{headers:{'Authorization':\"Bearer \".concat(localStorage.getItem('token'))}}).then(function(res){handleCancel1();message.success(\"Yangi rasmga o`zgartitildi\");getdocument();}).catch(function(err){message.error(\"xatolik\");});};var handleCancel1=function handleCancel1(){setIsModalOpen1(false);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h3\",{children:\"document uchun link yarating\"}),carusel_image.length==0?/*#__PURE__*/_jsx(Button,{style:{marginBottom:'20px'},type:\"primary\",onClick:showModal,children:\"Create document\"}):/*#__PURE__*/_jsx(\"div\",{className:\"document_images\",children:carusel_image.map(function(item,key){return/*#__PURE__*/_jsxs(\"div\",{className:\"document_card\",children:[/*#__PURE__*/_jsx(\"a\",{href:item.image,children:\"url document\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Button,{type:\"primary\",onClick:function onClick(){showModal1();setSelectId(item.id);},children:\"edit\"}),\" \",/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return Deletedocument(item.id);},danger:true,children:\"delete\"})]},key);})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Modal,{title:\"Basic Modal\",open:isModalOpen,onOk:handleOk,onCancel:handleCancel,children:/*#__PURE__*/_jsx(Form,{children:/*#__PURE__*/_jsx(Form.Item,{label:\"Image\",valuePropName:\"fileList\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"file_input\",listType:\"picture-card\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",className:\"get_datainput\",id:\"modal_data_file\"}),/*#__PURE__*/_jsxs(\"button\",{style:{border:0,background:'none'},type:\"button\",children:[/*#__PURE__*/_jsx(PlusOutlined,{}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:8},children:\"Upload\"})]})]})})})}),/*#__PURE__*/_jsx(Modal,{title:\"Basic Modal\",open:isModalOpen1,onOk:handleOk1,onCancel:handleCancel1,children:/*#__PURE__*/_jsx(Form,{children:/*#__PURE__*/_jsx(Form.Item,{label:\"Image\",valuePropName:\"fileList\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"file_input\",listType:\"picture-card\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",className:\"get_datainput\",id:\"modal_data_file1\"}),/*#__PURE__*/_jsxs(\"button\",{style:{border:0,background:'none'},type:\"button\",children:[/*#__PURE__*/_jsx(PlusOutlined,{}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:8},children:\"Upload\"})]})]})})})})]});}","map":{"version":3,"names":["axios","React","useEffect","useState","url","Button","Form","Modal","message","PlusOutlined","jsx","_jsx","jsxs","_jsxs","Document1","_useState","_useState2","_slicedToArray","carusel_image","setdocumentImage","getdocument","get","concat","then","res","data","Deletedocument","id","delete","headers","localStorage","getItem","success","catch","err","error","_useState3","_useState4","isModalOpen","setIsModalOpen","_useState5","_useState6","isModalOpen1","setIsModalOpen1","showModal","handleOk","FormData","append","document","querySelector","files","post","handleCancel","_useState7","_useState8","select_id","setSelectId","showModal1","handleOk1","put","handleCancel1","children","length","style","marginBottom","type","onClick","className","map","item","key","href","image","danger","title","open","onOk","onCancel","Item","label","valuePropName","listType","border","background","marginTop"],"sources":["/home/abbas/Documents/GitHub/moysklad_admin/src/pages/Document1.js"],"sourcesContent":["import axios from 'axios'\nimport React, { useEffect, useState } from 'react'\nimport url from './host'\nimport { Button, Form, Modal, message } from 'antd';\nimport { PlusOutlined } from '@ant-design/icons';\nexport default function Document1() {\nvar [carusel_image,setdocumentImage]=useState([])\n\n\nfunction getdocument() {\n    axios.get(`${url}/api/document`).then(res=>{\nsetdocumentImage(res.data)\n    })\n}\nfunction Deletedocument(id) {\naxios.delete(`${url}/api/document/${id}`, {\n  headers: {\n    'Authorization': `Bearer ${localStorage.getItem('token')}`\n  }\n}).then(res=>{\n    message.success(\"rasm o`chirildi\")\n    getdocument()\n}).catch(err=>{\n    message.error(\"xatolik yuz berdi\")\n})    \n}\nuseEffect(()=>{\ngetdocument()\n},[])\nconst [isModalOpen, setIsModalOpen] = useState(false);\nconst [isModalOpen1, setIsModalOpen1] = useState(false);\n\nconst showModal = () => {\n  setIsModalOpen(true);\n};\nconst handleOk = () => {\nvar data =new FormData()\ndata.append(\"image\",document.querySelector('#modal_data_file').files[0])\naxios.post(`${url}/api/document`,data, {\n  headers: {\n    'Authorization': `Bearer ${localStorage.getItem('token')}`\n  }\n}).then(res=>{\n    handleCancel()\n    message.success(\"yangi rasm joylandi\")\n    getdocument()\n}).catch(err=>{\n    message.error(\"xatolik\")\n})\n};\nconst handleCancel = () => {\n  setIsModalOpen(false);\n};\nvar [select_id,setSelectId]=useState(0)\nconst showModal1 = () => {\n    setIsModalOpen1(true);\n  };\n  const handleOk1 = () => {\n  var data =new FormData()\n  data.append(\"image\",document.querySelector('#modal_data_file1').files[0])\n  axios.put(`${url}/api/document/${select_id}`,data, {\n    headers: {\n      'Authorization': `Bearer ${localStorage.getItem('token')}`\n    }\n  }).then(res=>{\n      handleCancel1()\n      message.success(\"Yangi rasmga o`zgartitildi\")\n      getdocument()\n  }).catch(err=>{\n      message.error(\"xatolik\")\n  })\n  };\n  const handleCancel1 = () => {\n    setIsModalOpen1(false);\n  };\n  return (\n    <div>\n        <br />\n        <h3>document uchun link yarating</h3>\n        {carusel_image.length==0?(<Button style={{marginBottom:'20px'}} type=\"primary\" onClick={showModal}>\n        Create document\n      </Button>):(<div className=\"document_images\">\n    {carusel_image.map((item,key)=>{\n        return <div key={key} className='document_card'  >\n          <a href={item.image}>url document</a><br />\n            <Button  type=\"primary\" onClick={()=>{showModal1();setSelectId(item.id)}} >edit</Button> <Button onClick={()=>Deletedocument(item.id)} danger>delete</Button>\n        </div>\n    })}\n</div>)}\n      \n<br />\n\n\n\n\n      <Modal title=\"Basic Modal\" open={isModalOpen} onOk={handleOk} onCancel={handleCancel}>\n     <Form>\n     <Form.Item label=\"Image\" valuePropName=\"fileList\">\n    <div className='file_input' listType=\"picture-card\"> \n      <input type=\"file\" className='get_datainput' id=\"modal_data_file\" />\n            <button\n              style={{\n                border: 0,\n                background: 'none',\n              }}\n              type=\"button\"\n            >\n              <PlusOutlined />\n              <div\n                style={{\n                  marginTop: 8,\n                }}\n              >\n                Upload\n              </div>\n            </button>\n          </div>\n        </Form.Item>\n     </Form>\n      </Modal>\n\n      <Modal title=\"Basic Modal\" open={isModalOpen1} onOk={handleOk1} onCancel={handleCancel1}>\n     <Form>\n     <Form.Item label=\"Image\" valuePropName=\"fileList\">\n    <div className='file_input' listType=\"picture-card\"> \n      <input type=\"file\" className='get_datainput' id=\"modal_data_file1\" />\n            <button\n              style={{\n                border: 0,\n                background: 'none',\n              }}\n              type=\"button\"\n            >\n              <PlusOutlined />\n              <div\n                style={{\n                  marginTop: 8,\n                }}\n              >\n                Upload\n              </div>\n            </button>\n          </div>\n        </Form.Item>\n     </Form>\n      </Modal>\n    </div>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}